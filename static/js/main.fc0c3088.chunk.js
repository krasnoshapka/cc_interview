(this.webpackJsonpcc_interview=this.webpackJsonpcc_interview||[]).push([[0],{24:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),c=a.n(r),s=a(17),i=a.n(s),u=(a(24),a(8)),o=a(2),d=a.n(o),j=a(4),p=a(5),l=a(12),b=a(7),h=a(14),x=c.a.createContext(null),f=function(e){var t=e.children,a=c.a.useState([]),r=Object(b.a)(a,2),s=r[0],i=r[1];return Object(n.jsx)(x.Provider,{value:{packages:s,addPackage:function(e){e.packageId=s.length,i([].concat(Object(h.a)(s),[e]))},modifyPackage:function(e){var t=Object(h.a)(s);t[e.packageId]=e,i(t)}},children:t})},g=a(18),O=a(13);function m(){var e=Object(g.a)(["\n    mutation addPackageToCart($sku:SKU!, $quantity: Int!, $personalMessage: Boolean!) {\n      addPackageToCart(sku: $sku, quantity: $quantity, personalMessage: $personalMessage) {\n        id,\n        quantity\n      }\n    }\n  "]);return m=function(){return e},e}var v=new O.GraphQLClient("https://staging.nxte.nl:5000/graphql",{headers:{"x-store":"7"}});function k(e){for(var t="".concat(e).split("");t.length<3;)t.unshift("0");return t.push("0","0"),"LECA"+t.join("")}function y(e){return q.apply(this,arguments)}function q(){return(q=Object(j.a)(d.a.mark((function e(t){var a,n,r,c,s,i,u,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(O.gql)(m()),n={sku:k(t.amount),quantity:t.quantity,personalMessage:!1},e.next=4,v.rawRequest(a,n);case 4:return r=e.sent,c=r.data,s=r.errors,i=r.extensions,u=r.headers,o=r.status,console.log(JSON.stringify({data:c,errors:s,extensions:i,headers:u,status:o},void 0,2)),e.abrupt("return",0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w={packageId:0,quantity:1,amount:5},P=function(e){var t=e.formType,a=e.p,r=void 0===a?w:a,s=(Object(u.a)(e,["formType","p"]),c.a.useContext(x)),i=s.packages,o=s.addPackage,h=s.modifyPackage,f=c.a.useState(r),g=Object(b.a)(f,2),O=g[0],m=g[1],v=function(e){m(Object(l.a)(Object(l.a)({},O),{},Object(p.a)({},e.currentTarget.id,e.currentTarget.value)))},k=function(){var e=Object(j.a)(d.a.mark((function e(a,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),"add"!==t){e.next=9;break}return e.next=4,y(n);case 4:e.sent,o(n),m(w),e.next=10;break;case 9:h(n);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.jsxs)("form",{onSubmit:function(e){return k(e,O)},children:[Object(n.jsxs)("h3",{children:["Package ","add"===t?i.length+1:O.packageId+1]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"quantity",children:"Quantity"}),Object(n.jsx)("input",{id:"quantity",type:"number",min:"1",max:"10",value:O.quantity,onChange:v})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"amount",children:"Amount"}),Object(n.jsx)("input",{id:"amount",type:"number",min:"5",max:"150",value:O.amount,onChange:v})]}),Object(n.jsxs)("button",{children:["add"===t?"Add":"Save"," Package"]})]})},C=function(e){var t=e.p;Object(u.a)(e,["p"]);return Object(n.jsxs)("div",{className:"package-list-item",children:[Object(n.jsxs)("h3",{children:["Package (",t.packageId+1,")"]}),Object(n.jsxs)("div",{className:"package-quantity",children:["Quantity: ",t.quantity]}),Object(n.jsxs)("div",{className:"package-amount",children:["Amount: ",t.amount]}),Object(n.jsx)("div",{children:"Show More..."}),Object(n.jsxs)("div",{children:["Modify",Object(n.jsx)(P,{formType:"modify",p:t})]})]})};var I=function(){var e=c.a.useContext(x),t=e.packages;return e.modifyPackage,Object(n.jsx)("div",{id:"package-list",children:t&&t.map((function(e){return Object(n.jsx)(C,{p:e},e.packageId)}))})};var S=function(){return Object(n.jsx)(f,{children:Object(n.jsxs)("div",{id:"package-order",children:[Object(n.jsx)(I,{}),Object(n.jsx)(P,{formType:"add"})]})})};var T=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("header",{className:"App-header",children:"Giftcard order"}),Object(n.jsx)(S,{})]})};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(T,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.fc0c3088.chunk.js.map